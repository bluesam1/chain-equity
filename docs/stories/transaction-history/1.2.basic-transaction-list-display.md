# Story 1.2: Basic Transaction List Display

## Status
Ready for Review

## Story

**As a** user,
**I want** to view a list of all transactions in chronological order,
**so that** I can see the transaction history of the Chain Equity token.

## Acceptance Criteria

1. Create TransactionHistory component that displays transactions in a list format
2. Display transactions in reverse chronological order (newest first) by default
3. Each transaction row displays: transaction type, timestamp, block number, from address (if applicable), to address (if applicable), amount (if applicable)
4. Format timestamps in human-readable format (e.g., "Dec 19, 2024 3:45 PM")
5. Format addresses with truncation (first 6 + last 4 characters) with option to show full address
6. Format amounts with appropriate decimal precision
7. Display transaction type with clear labels and icons
8. Show loading state while fetching transactions
9. Show empty state when no transactions are found
10. Follow existing design system (dark theme, typography, spacing)
11. Make transaction rows clickable (preparation for detail modal)

## Tasks / Subtasks

- [x] Create TransactionHistory component (AC: 1, 2, 3)
  - [x] Create `frontend/src/pages/TransactionHistory.tsx`
  - [x] Create `frontend/src/components/TransactionHistory/TransactionList.tsx`
  - [x] Create `frontend/src/components/TransactionHistory/TransactionRow.tsx`
  - [x] Display transactions in reverse chronological order (newest first)
  - [x] Display transaction type, timestamp, block number, from/to addresses, amount
- [x] Implement transaction formatting (AC: 4, 5, 6)
  - [x] Format timestamps in human-readable format
  - [x] Format addresses with truncation (first 6 + last 4 characters)
  - [x] Add option to show full address on hover/click
  - [x] Format amounts with appropriate decimal precision
  - [x] Create `frontend/src/utils/transactionUtils.ts` for formatting utilities
- [x] Implement transaction type display (AC: 7)
  - [x] Display transaction type with clear labels
  - [x] Add icons for each transaction type (Transfer, Mint, Burn, Split, SymbolChange, AllowlistUpdate)
  - [x] Use color coding for transaction types
  - [x] Create `frontend/src/components/TransactionHistory/TransactionTypeBadge.tsx`
- [x] Implement loading state (AC: 8)
  - [x] Show loading spinner/skeleton while fetching transactions
  - [x] Display loading indicator during initial load
  - [x] Use existing loading component from design system
- [x] Implement empty state (AC: 9)
  - [x] Show empty state message when no transactions found
  - [x] Display helpful message with icon
  - [x] Use existing empty state component from design system
- [x] Apply design system (AC: 10)
  - [x] Use dark theme colors
  - [x] Follow typography scale
  - [x] Apply spacing guidelines
  - [x] Use existing Card/Container components
- [x] Make rows clickable (AC: 11)
  - [x] Add click handler to transaction rows
  - [x] Add hover state for clickable rows
  - [x] Add cursor pointer on hover
  - [x] Prepare for detail modal integration

## Dev Notes

### Relevant Source Tree Info
- Transaction history page: `frontend/src/pages/TransactionHistory.tsx`
- Transaction list component: `frontend/src/components/TransactionHistory/TransactionList.tsx`
- Transaction row component: `frontend/src/components/TransactionHistory/TransactionRow.tsx`
- Transaction type badge: `frontend/src/components/TransactionHistory/TransactionTypeBadge.tsx`
- Transaction utilities: `frontend/src/utils/transactionUtils.ts`
- Transaction history hook: `frontend/src/hooks/useTransactionHistory.ts` (from Story 1.1)

### Front-End Specification References
- **Design System:** See `docs/front-end-spec.md` - Component Library / Design System section
- **Dark Theme:** Use Slate-900 background, Slate-800 surfaces
- **Typography:** Inter or System UI for body text, monospace for addresses
- **Spacing:** Follow spacing scale (1rem base, 1.5rem for cards)

### Transaction Type Icons & Colors
- **Transfer**: Arrow-right icon, Blue-500 (#3B82F6)
- **Mint**: Plus icon, Green-500 (#10B981)
- **Burn**: Minus icon, Red-500 (#EF4444)
- **Split**: Split icon, Amber-500 (#F59E0B)
- **SymbolChange**: Edit icon, Purple-500 (#A855F7)
- **AllowlistUpdate**: Check-circle icon, Gray-500 (#6B7280)

### Transaction Row Layout
**Desktop:**
- Type icon + label: 120px
- Timestamp: 180px
- Block number: 100px
- From address: 200px (truncated)
- To address: 200px (truncated)
- Amount: 150px (right-aligned)
- Transaction hash: 120px (truncated)

**Mobile:**
- Single column, stacked information
- Type + Timestamp on first line
- From/To addresses on second line (with arrow icon)
- Amount + Block on third line
- Transaction hash on fourth line (smaller text)

### Formatting Utilities
```typescript
// Format timestamp
formatTimestamp(timestamp: number): string
// Returns: "Dec 19, 2024 3:45 PM"

// Format address
formatAddress(address: string, truncate: boolean = true): string
// Returns: "0x1234...5678" or full address

// Format amount
formatAmount(amount: string, decimals: number): string
// Returns: formatted amount with decimal precision
```

### Integration Points
- Uses `useTransactionHistory` hook from Story 1.1
- Uses existing design system components (Card, Button, StatusIndicator)
- Uses Heroicons or Lucide Icons for transaction type icons
- Follows existing frontend TypeScript patterns

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2024-12-19 | 1.0 | Initial story creation | John (PM) |

## Dev Agent Record

### Agent Model Used
Claude Sonnet 4.5

### Completion Notes
- Created TransactionHistory page component
- Created TransactionList, TransactionRow, and TransactionTypeBadge components
- Created transaction formatting utilities (formatTimestamp, formatAddress, formatAmount)
- Implemented transaction type badges with icons and color coding
- Implemented loading and empty states using StatusIndicator component
- Applied dark theme design system with proper spacing and typography
- Made transaction rows clickable with hover states (prepared for detail modal)
- All acceptance criteria met

### File List
- `frontend/src/pages/TransactionHistory.tsx` (created)
- `frontend/src/components/TransactionHistory/TransactionList.tsx` (created)
- `frontend/src/components/TransactionHistory/TransactionRow.tsx` (created)
- `frontend/src/components/TransactionHistory/TransactionTypeBadge.tsx` (created)
- `frontend/src/utils/transactionUtils.ts` (created)

### Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2024-12-19 | 1.0 | Initial story creation | John (PM) |
| 2024-12-19 | 1.1 | Story implementation completed | James (Dev) |

## QA Results

_To be populated by QA agent_

