# Story 5.6: Implement Balance Tab

## Status
Draft

## Story

**As a** token holder,
**I want** to view my token balance and account information,
**so that** I can see my current holdings and account details.

## Acceptance Criteria

1. Balance tab implemented per Front-End Specification (`docs/front-end-spec.md`)
2. Token balance displayed prominently (token amount + symbol)
3. Wallet address displayed (truncated, with copy button)
4. Network status indicator displayed
5. Token symbol displayed (from contract)
6. Balance updates after transactions
7. UI follows Dashboard - Balance Tab wireframe from specification
8. Tab navigation integrated (Balance tab active by default after connection)
9. Dark theme applied
10. Accessible (keyboard navigation, screen reader)

## Tasks / Subtasks

- [ ] Create Balance tab component (AC: 1, 7)
  - [ ] Create `frontend/src/pages/Balance.tsx`
  - [ ] Implement tab layout per wireframe
  - [ ] Use dark theme colors
  - [ ] Follow wireframe from specification
- [ ] Implement token balance display (AC: 2)
  - [ ] Create `frontend/src/hooks/useBalance.ts`
  - [ ] Query contract for token balance
  - [ ] Format balance display (token amount + symbol)
  - [ ] Display prominently (large, elevated card)
  - [ ] Add TypeScript types
- [ ] Implement wallet address display (AC: 3)
  - [ ] Display truncated address (first 4 + last 4)
  - [ ] Add copy button
  - [ ] Show full address on hover/click
  - [ ] Use WalletBadge component
- [ ] Implement network status indicator (AC: 4)
  - [ ] Display network indicator ("Local Dev Network")
  - [ ] Show green indicator for correct network
  - [ ] Use network indicator from WalletBadge component
- [ ] Implement token symbol display (AC: 5)
  - [ ] Query contract for token symbol
  - [ ] Display symbol with balance
  - [ ] Update symbol if changed (corporate action)
- [ ] Implement balance updates (AC: 6)
  - [ ] Listen for Transfer events
  - [ ] Update balance on transaction success
  - [ ] Refresh balance after transactions
- [ ] Integrate tab navigation (AC: 8)
  - [ ] Add Balance tab to tab navigation
  - [ ] Set Balance tab as active by default after connection
  - [ ] Use Tab Navigation component from Story 5.2
- [ ] Apply dark theme (AC: 9)
  - [ ] Use dark theme colors from Tailwind config
  - [ ] Verify contrast ratios
- [ ] Verify accessibility (AC: 10)
  - [ ] Test keyboard navigation
  - [ ] Test screen reader compatibility
  - [ ] Verify focus indicators

## Dev Notes

### Relevant Source Tree Info
- Balance page: `frontend/src/pages/Balance.tsx`
- Balance hook: `frontend/src/hooks/useBalance.ts`
- Contract interaction: `frontend/src/lib/contract.ts`
- Tab navigation: `frontend/src/components/Tabs.tsx` (from Story 5.2)
- Wallet badge: `frontend/src/components/WalletBadge.tsx` (from Story 5.2)

### Front-End Specification References
- **Wireframe:** See `docs/front-end-spec.md` - Wireframes & Mockups > Dashboard - Balance Tab section
- **User Flow:** Balance viewing is part of wallet connection flow
- **Component:** Use components from Story 5.2 (Card, WalletBadge, etc.)

### Architecture Decisions
- Balance queried from contract on load
- Balance updated on transaction events
- Token symbol queried from contract
- Tab navigation for dashboard sections

### Key Constraints
- Must follow wireframe from specification exactly
- Must use dark theme colors
- Must be accessible
- Must update balance after transactions

### Testing
- **Test File Location**: `frontend/src/pages/__tests__/Balance.test.tsx`
- **Test Standards**: React Testing Library, Vitest
- **Testing Frameworks**: Vitest with React Testing Library
- **Specific Requirements**: 
  - Test balance display
  - Test wallet address display
  - Test network indicator
  - Test token symbol display
  - Test balance updates
  - Test tab navigation
  - Manual testing with contract

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2024-12-19 | 1.0 | Initial story creation | Product Owner |

## Dev Agent Record

_To be populated by development agent during implementation_

## QA Results

_To be populated by QA agent_

